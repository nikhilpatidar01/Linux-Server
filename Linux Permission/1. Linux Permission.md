# Linux Permissions

Permissions in Linux dictate what actions a user can perform on files and directories. These permissions control the ability to **read**, **write**, and **execute** files or list/modify directory contents.

---

## Permission Field: 10-Character Format
Permissions are represented in a 10-character field:

### Example: `-rw-r--r--`
1. **1st Character**: File type
   - `-` : Normal file
   - `d` : Directory
   - `l` : Link
   - `p` : Process file
   - `b` : Block device
   - `c` : Character device
2. **Characters 2-10**: Permissions for **owner**, **group**, and **others**, split into three sets of three characters.

### Breakdown of Characters:
- **Owner (2-4):**
  - `r`: Read permission
  - `w`: Write permission
  - `x`: Execute permission
- **Group (5-7):**
  - `r`: Read permission
  - `w`: Write permission
  - `x`: Execute permission
- **Others (8-10):**
  - `r`: Read permission
  - `w`: Write permission
  - `x`: Execute permission

---

## Viewing Permissions
Use the `ls -l` command to display detailed information about files, including permissions and ownership.

### Example:
```bash
ls -l
```
Output:
```
-rw-r--r--  1 user group  4096 Jan 07 10:00 file.txt
```

Fields:
- `-rw-r--r--`: Permissions
- `1`: Number of links
- `user`: Owner
- `group`: Group
- `4096`: File size
- `Jan 07 10:00`: Modification date
- `file.txt`: File name

---

## Ownership and Groups

1. **Ownership:**
   - Each file or directory is owned by a user.
   - Permissions are defined separately for the **owner**, **group**, and **others**.
2. **Group Association:**
   - Each file/directory has an associated group.
   - Group information is stored in `/etc/group`.
   - Only administrators (root) can create groups or manage group memberships.

---

## Permission Assignment Methods
Permissions can be assigned using two methods:

1. **Symbolic Method**
2. **Numeric Method**

### 1. Symbolic Method
The symbolic method uses letters and symbols to represent the permissions and assign them to users or groups.

#### Syntax:
```bash
chmod <user_class><operation><permissions> file
```

- **User Class:**
  - `u`: User (owner)
  - `g`: Group
  - `o`: Others
  - `a`: All (user, group, and others)
- **Operation:**
  - `+`: Add permission
  - `-`: Remove permission
  - `=`: Set permission exactly (overwrites existing permissions)
- **Permissions:**
  - `r`: Read
  - `w`: Write
  - `x`: Execute

#### Examples:
- Add execute permission for the owner:
  ```bash
  chmod u+x file.txt
  ```
- Remove write permission for others:
  ```bash
  chmod o-w file.txt
  ```
- Set read and write permissions for the group:
  ```bash
  chmod g=rw file.txt
  ```

---

### 2. Numeric Method
The numeric method uses numbers to represent the permissions.

#### Numeric Values:
- `4`: Read (`r`)
- `2`: Write (`w`)
- `1`: Execute (`x`)

For each user class (owner, group, others), permissions are calculated by adding these values.

#### Examples:
- **Read + Write = 4 + 2 = 6**
- **Read + Execute = 4 + 1 = 5**
- **Read + Write + Execute = 4 + 2 + 1 = 7**

#### Syntax:
```bash
chmod <numeric_code> file
```

#### Examples:
1. Set read and write permissions for the owner, and read permissions for group and others:
   ```bash
   chmod 644 file.txt
   ```
   - Owner: `4 (read) + 2 (write) = 6`
   - Group: `4 (read) = 4`
   - Others: `4 (read) = 4`
2. Set full permissions for the owner, and read/execute permissions for group and others:
   ```bash
   chmod 755 file.txt
   ```
   - Owner: `4 (read) + 2 (write) + 1 (execute) = 7`
   - Group: `4 (read) + 1 (execute) = 5`
   - Others: `4 (read) + 1 (execute) = 5`

---

## Device Types in Linux

### 1. Block Devices
- **Definition:** Buffered access to hardware, reading/writing data in fixed-size blocks (e.g., 512 bytes).
- **Examples:** Hard drives, SSDs, USB drives.
- **Usage:** Random and efficient access to data, like reading/writing files on a disk.
- **Location:** Found in `/dev` (e.g., `/dev/sda`, `/dev/sdb1`).
- **Command:**
  ```bash
  ls -l /dev | grep '^b'
  ```

### 2. Character Devices
- **Definition:** Unbuffered, stream-oriented access to hardware, handling data one byte/character at a time.
- **Examples:** Keyboards, mice, serial ports, printers.
- **Usage:** Sequential data handling without block-level access.
- **Location:** Found in `/dev` (e.g., `/dev/tty`, `/dev/null`).
- **Command:**
  ```bash
  ls -l /dev | grep '^c'
  ```

---

## Process Files and `/proc` Directory

### Process Files
- Files that contain information about running processes.
- Found in the `/proc` directory, a virtual file system providing process/system details.

### `/proc` Directory
- **Purpose:** Contains details about processes and system resources.
- **Structure:** Each process has a directory named after its **Process ID (PID)**.
- **Example:** `/proc/1/` corresponds to the process with PID 1 (usually `init`).

---
---
