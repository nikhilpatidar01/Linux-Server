The `passwd` command in Linux is used to manage user passwords and account settings. Below is a detailed explanation of its usage, options, and examples, including input and expected output.

## Basic Syntax
```bash
passwd [options] [username]
```
If no username is specified, it changes the password for the currently logged-in user.

## Common Options

### 1. **Help**
To see all available options:
```bash
passwd --help
```
- **Output**: Displays help information about the `passwd` command and its options.

### 2. **Add Users**
To create new users:
```bash
useradd nikhil
useradd ai
```
- **Output**: No output if successful. You can verify by checking user entries.

### 3. **Check User Entries**
To check for users in various system files:
```bash
grep -E " (nikhil|ai)" /etc/passwd /etc/shadow /etc/group /etc/gshadow
```
- **Output**: Displays entries related to `nikhil` and `ai` in the specified files, showing their details.

### 4. **Set Password**
To set a password for a user:
```bash
passwd nikhil
```
- **Input**: Prompts for the new password and confirmation.
- **Output**: 
  ```
  Changing password for nikhil.
  Enter new UNIX password:
  Retype new UNIX password:
  passwd: password updated successfully
  ```

### 5. **Remove Password**
To remove a user's password:
```bash
passwd -d nikhil
```
- **Output**: No output if successful, making the account password-less.

### 6. **Lock User Account**
To lock a user's account:
```bash
passwd -l nikhil
```
- **Output**: 
  ```
  passwd: password expiry information changed.
  ```
- This command locks the account regardless of whether a password was set.

### 7. **Unlock User Account**
To unlock a user's account:
```bash
passwd -u nikhil
```
- **Output**: 
  ```
  passwd: password expiry information changed.
  ```

### 8. **Check Password Status**
To check the status of a user's password:
```bash
passwd -S nikhil
```
- **Output**: 
  ```
  nikhil P 01/06/2025 0 99999 7 -1
  ```
- Here, `P` indicates that the password is valid. The date shows when it was last changed, along with other expiration details.

### 9. **Set Password Expiry**
To expire a user's password immediately:
```bash
passwd -e nikhil
```
- To set a specific expiration date:
```bash
passwd -e 2025-12-13 nikhil
```
- **Output**: No output if successful; the user will need to change their password at next login.

### 10. **Edit Shadow File**
You can manually edit the shadow file using:
```bash
vim /etc/shadow
```
- This allows you to make changes directly to user password settings but should be done with caution.

## Summary of Commands

| Command                                     | Description                                  | Expected Output                                   |
|---------------------------------------------|----------------------------------------------|--------------------------------------------------|
| `passwd --help`                            | Display help information                     | Help text listing options                         |
| `useradd nikhil`                          | Create user `nikhil`                        | No output if successful                           |
| `useradd ai`                               | Create user `ai`                            | No output if successful                           |
| `grep -E " (nikhil|ai)" ...`               | Check user entries in system files          | Displays entries related to `nikhil` and `ai`    |
| `passwd nikhil`                            | Set password for user `nikhil`              | Prompts for new password; success message         |
| `passwd -d nikhil`                         | Remove password for user `nikhil`           | No output if successful                           |
| `passwd -l nikhil`                         | Lock user account `nikhil`                  | Password expiry information changed message        |
| `passwd -u nikhil`                         | Unlock user account `nikhil`                | Password expiry information changed message        |
| `passwd -S nikhil`                         | Check password status of user `nikhil`      | Shows current status of the user's password       |
| `passwd -e nikhil`                         | Expire password for user `nikhil`           | No output if successful                           |
| `passwd -e 2025-12-13 nikhil`              | Set specific expiration date for `nikhil`   | No output if successful                           |
| `vim /etc/shadow`                          | Edit shadow file for manual changes         | Opens shadow file in vim                          |

This command set provides system administrators with essential tools for managing user passwords and account settings effectively in Linux environments.

---
---
