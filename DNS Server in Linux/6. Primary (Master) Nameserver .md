### ** Primary (Master) Nameserver Configuratoin**  

### **Set the Hostname for the DNS Server:**  
```bash
nano /etc/hostname
```
### Example:
```bash
ns1.nikhil.local
```

### **Edit Host File Accourding Zone:**  
```bash
nano /etc/hosts
```
### Configuration Data Optional Option:
```
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.112.145 ns1 ns1.nikhil.local

```
### Remove recursion forwarders old Configuration file in /etct/named.conf :

```bash
nano /etc/named.conf
```
### Remove Forwarders:
```
         forwarders {
                8.8.8.8;
                8.8.4.4;
        };
```
### Edit DNS Zone Configuration:

```bash
nano /etc/named.rfc1912.zones
```
### Configuration Data:
```
zone "nikhil.local" IN {
        type master;
        file "forward.nikhil.local";
        allow-update { none; };
};

```
### Main File Data:
```bash
// named.rfc1912.zones:
//
// Provided by Red Hat caching-nameserver package
//
// ISC BIND named zone configuration for zones recommended by
// RFC 1912 section 4.1 : localhost TLDs and address zones
// and https://tools.ietf.org/html/rfc6303
// (c)2007 R W Franks
//
// See /usr/share/doc/bind*/sample/ for example named configuration files.
//
// Note: empty-zones-enable yes; option is default.
// If private ranges should be forwarded, add
// disable-empty-zone "."; into options
//

zone "localhost.localdomain" IN {
        type master;
        file "named.localhost";
        allow-update { none; };
};

zone "localhost" IN {
        type master;
        file "named.localhost";
        allow-update { none; };
};

zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" IN {
        type master;
        file "named.loopback";
        allow-update { none; };
};

zone "1.0.0.127.in-addr.arpa" IN {
        type master;
        file "named.loopback";
        allow-update { none; };
};

zone "0.in-addr.arpa" IN {
        type master;
        file "named.empty";
        allow-update { none; };
};

zone "nikhil.local" IN {
        type master;
        file "forward.nikhil.local";
        allow-update { none; };
};

```

### Create Forward Zone File 
### Copy the Example Zone File and Modify it:
```
cd /var/named/
```
```
cp -v named.localhost forward.nikhil.local
```

### Create Forward Zone File 
```
nano /var/named/forward.nikhil.local
```
### Black File:
```
@       IN SOA  @ rname.invalid. (
                                        0       ; serial
                                        1D      ; refresh
                                        1H      ; retry
                                        1W      ; expire
                                        3H )    ; minimum
        NS      @
        A       127.0.0.1
        AAAA    ::1
```
### Configuration File:
```
$TTL 1D
@       IN SOA  ns1.nikhil.local. root.nikhil.local (
                                        20250324        ; serial
                                        3600            ; refresh
                                        1800            ; retry
                                        604800          ; expire
                                        86400 )         ; minimum
@               IN              NS      ns1.nikhil.local.
ns1             IN              A       192.168.112.145
nikhil.local.   IN              A       192.168.112.145
www             IN              CNAME   nikhil.local.
router          IN              A       192.168.112.98
emp1            IN              A       192.168.112.200
emp2            IN              A       192.168.112.201

; Mail exchange
@               IN              MX      10 mail.nikhil.local.
mail            IN              a       192.168.112.150

; Text record for SPE
@               IN              TXT     "v=spr1 mx a ~all"

; Additional Services
ftp             IN              CNAME   nikhil.local.
dev             IN              A       192.168.112.100
fileserver      IN              A       192.168.112.105
db              IN              A       192.168.112.110
test            IN              A       192.168.112.115
vpn             IN              A       192.168.112.120
git             IN              A       192.168.112.125
webapp          IN              A       192.168.112.130
logs            IN              A       192.168.112.135
```
### Set Permission:
```
chgrp named /var/named/forward.nikhil.local
```
```
chmod 640 /var/named/forward.nikhil.local
```


### Restart BIND Service:
```
systemctl restart named
```
### Check:
```
dig nikhil.local
```
### Check Configuration:
```
named-checkconf
```

```
named-checkconf /etc/named.conf
```

```
 named-checkconf /etc/named.rfc1912.zones
```

```
named-checkconf /etc/named.root.key
```

### Verify Forward Zone:
```
named-checkzone nikhil1.local /var/named/forward.nikhil.local
```
### Output:
```
zone nikhil1.local/IN: loaded serial 20250324
OK
```

### Text Resolution:
```
 dig @192.168.112.145 nikhil.local
```
```
 dig @192.168.112.145 emp1.nikhil.local
```
```
dig @192.168.112.145 ftp.nikhil.local
```

---


### ** Reverse Zone Configuratoin**  


### Edit DNS Zone Configuration:

```bash
nano /etc/named.rfc1912.zones
```
### Configuration Data:
```
zone "112.168.192.in-addr.arpa" IN {
        type master;
        file "reverse.nikhil.local";
        allow-update { none; };
};

```
### Main File Configuratoin:
```bash
// named.rfc1912.zones:
//
// Provided by Red Hat caching-nameserver package
//
// ISC BIND named zone configuration for zones recommended by
// RFC 1912 section 4.1 : localhost TLDs and address zones
// and https://tools.ietf.org/html/rfc6303
// (c)2007 R W Franks
//
// See /usr/share/doc/bind*/sample/ for example named configuration files.
//
// Note: empty-zones-enable yes; option is default.
// If private ranges should be forwarded, add
// disable-empty-zone "."; into options
//

zone "localhost.localdomain" IN {
        type master;
        file "named.localhost";
        allow-update { none; };
};

zone "localhost" IN {
        type master;
        file "named.localhost";
        allow-update { none; };
};

zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" IN {
        type master;
        file "named.loopback";
        allow-update { none; };
};

zone "1.0.0.127.in-addr.arpa" IN {
        type master;
        file "named.loopback";
        allow-update { none; };
};

zone "0.in-addr.arpa" IN {
        type master;
        file "named.empty";
        allow-update { none; };
};

zone "nikhil.local" IN {
        type master;
        file "forward.nikhil.local";
        allow-update { none; };
};

zone "112.168.192.in-addr.arpa" IN {
        type master;
        file "reverse.nikhil.local";
        allow-update { none; };
};

```

### Create Forward Zone File 
### Copy the Example Zone File and Modify it:
```
cd /var/named/
```
```
cp -v /var/named/forward.nikhil.local /var/named/reverse.nikhil.local
```

### Create Reverse Zone File 
```
nano /var/named/reverse.nikhil.local
```
### Configure file:
```
$TTL 1D
@       IN SOA  ns1.nikhil.local. root.nikhil.local (
                                        20250324        ; serial
                                        3600            ; refresh
                                        1800            ; retry
                                        604800          ; expire
                                        86400 )         ; minimum
@               IN              NS      ns1.nikhil.local.
@               IN              PTR     ns1.nikhil.local.
145             IN              PTR     ns1.nikhil.local.
200             IN              PTR     emp1.nikhil.local
201             IN              PTR     emp2.nikhil.local.
205             IN              PTR     test.nikhil.local.
210             IN              PTR     mail.nikhil.local.
215             IN              PTR     db.nikhil.local.
220             IN              PTR     vpn.nikhil.local.
145             IN              PTR     www.nikhil.local.
```
### Set Permission:
```
chgrp named /var/named/reverse.nikhil.local
```
```
chmod 640 /var/named/reverse.nikhil.local
```


### Restart BIND Service:
```
systemctl restart named
```
### Check Configuration:
```
named-checkconf
```

```
named-checkconf /etc/named.conf
```

```
 named-checkconf /etc/named.rfc1912.zones
```

```
named-checkconf /etc/named.root.key
```

### Verify Forward Zone:
```
named-checkzone 112.168.192.in-addr.arpa /var/named/reverse.nikhil.local
```
### Output:
```
zone 112.168.192.in-addr.arpa/IN: loaded serial 20250324
OK
```

### Text Resolution:
```
 dig -x 192.168.112.145
```
```
 dig -x 192.168.112.200
```
```
 dig -x 192.168.112.210
```

