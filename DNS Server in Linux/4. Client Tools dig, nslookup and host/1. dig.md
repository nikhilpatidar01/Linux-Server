
# **üõ†Ô∏è `dig` Command ‚Äì DNS Lookup & Troubleshooting Tool**  

## **üìå Overview**  
The `dig` command is a **powerful DNS lookup tool** used to query DNS servers for:  
‚úÖ **Host addresses**  
‚úÖ **Mail exchanges (MX records)**  
‚úÖ **Name servers (NS records)**  
‚úÖ **Other DNS records**  

---

## **üåç Basic `dig` Commands**  

### ‚úÖ **Perform a Basic DNS Lookup**  
Simply running `dig` opens an **interactive mode**:  
```sh
dig
```

### ‚úÖ **Lookup a Specific Domain**  
Query DNS records for a domain:  
```sh
dig google.com
```

### ‚úÖ **Query a Specific DNS Server**  
Use a **custom DNS server** instead of the default resolver:  
```sh
dig google.com @64.6.64.6
```
üîπ This queries `google.com` using the **DNS server 64.6.64.6**.

---

## **üìå Query Specific DNS Record Types**  

### üîπ **A Record (IPv4 Address Lookup)**  
```sh
dig google.com A
dig A google.com
```

### üîπ **AAAA Record (IPv6 Address Lookup)**  
```sh
dig google.com AAAA
dig AAAA google.com
```

### üîπ **NS Record (Name Server Lookup)**  
```sh
dig google.com NS
dig NS google.com
```

### üîπ **MX Record (Mail Server Lookup)**  
```sh
dig google.com MX
```

### üîπ **CNAME Record (Alias Lookup)**  
```sh
dig google.com CNAME
```

### üîπ **TXT Record (SPF, DKIM, etc.)**  
```sh
dig google.com TXT
```

### üîπ **SOA Record (Start of Authority)**  
```sh
dig google.com SOA
```

### üîπ **ANY Record (All Available DNS Info)**  
```sh
dig google.com ANY
```

---

## **üìå üìâ Shortened Output for Clean Results**  

### ‚úÖ **Short Answer Format**  
Remove unnecessary details and show only essential info:  
```sh
dig google.com +short
```

### ‚úÖ **Get A Record in Short Format**  
```sh
dig google.com A +short
```

### ‚úÖ **Get AAAA Record in Short Format**  
```sh
dig google.com AAAA +short
```

### ‚úÖ **Get NS Record in Short Format**  
```sh
dig google.com NS +short
```

### ‚úÖ **Get MX Record in Short Format**  
```sh
dig google.com MX +short
```

### ‚úÖ **Get ANY Record in Short Format**  
```sh
dig google.com ANY +short
```

---

## **üìå Customizing Output Display**  

### ‚úÖ **Suppress All Output Except Answer**  
```sh
dig google.com +noall +answer
```

### ‚úÖ **Display Only Question & Answer Sections**  
```sh
dig google.com +noall +answer +question
```

### ‚úÖ **Fine-tune Output (Suppress Extra Details)**  
```sh
dig google.com +nocomments +noquestion +noauthority +noadditional +nostats
```

---

## **üìå Bulk DNS Lookups (Multiple Domains at Once)**  

### ‚úÖ **Create a File with Domains**  
```sh
vim domain_list.txt
```
**Example file content:**
```
google.com
facebook.com
armourinfosec.com
youtube.com
```

### ‚úÖ **Query Multiple Domains from a File**  
```sh
dig -f domain_list.txt
```

### ‚úÖ **Get Shortened Output for Multiple Domains**  
```sh
dig -f domain_list.txt +short
```

### ‚úÖ **Save Output to a File**  
```sh
dig -f domain_list.txt +short > ip_addresses.txt
```

---

## **üìå üîÑ Reverse DNS Lookup (PTR Records)**  

### ‚úÖ **Find Hostname from an IP Address**  
```sh
dig -x 8.8.8.8
```

### ‚úÖ **Shortened Reverse Lookup Output**  
```sh
dig -x 8.8.8.8 +short
```

---

## **üìå Bulk Reverse DNS Lookups**  

### ‚úÖ **Create a File with IP Addresses**  
```sh
vim ip_list.txt
```
**Example file content:**
```
64.6.64.6
8.8.4.4
1.1.1.1
20.20.20.20
```

### ‚úÖ **Convert IPs to `-x` Format (for Reverse Lookup)**  

Using `awk`:  
```sh
awk '{print "-x " $0}' ip_list.txt > ip_list2.txt
```

Using `sed`:  
```sh
cat ip_list.txt | sed -e "s/.*/-x &/" > ip_list2.txt
```

### ‚úÖ **Perform Reverse Lookup for Multiple IPs**  
```sh
dig -f ip_list2.txt +short
```

---

## **üìä Summary Table of `dig` Commands**  

| **Query Type** | **Command** |
|--------------|------------|
| Basic Domain Lookup | `dig google.com` |
| Query Specific DNS Server | `dig google.com @8.8.8.8` |
| A Record (IPv4) | `dig google.com A` |
| AAAA Record (IPv6) | `dig google.com AAAA` |
| MX Record (Mail Server) | `dig google.com MX` |
| NS Record (Name Server) | `dig google.com NS` |
| CNAME Record (Alias) | `dig google.com CNAME` |
| TXT Record (SPF, DKIM, etc.) | `dig google.com TXT` |
| SOA Record (Start of Authority) | `dig google.com SOA` |
| PTR Record (Reverse Lookup) | `dig -x 8.8.8.8` |
| Short Output (Only IP) | `dig google.com +short` |
| Recursive Query | `dig google.com +trace` |
| Query Multiple Domains | `dig -f domain_list.txt` |
| Query Multiple IPs (Reverse Lookup) | `dig -f ip_list.txt +short` |

---

## **üéØ Conclusion**  
‚úîÔ∏è `dig` is an essential **DNS troubleshooting tool** for network administrators.  
‚úîÔ∏è It provides detailed **domain resolution, mail server lookups, and reverse DNS queries**.  
‚úîÔ∏è Use `+short` or `+trace` for **clean output** or **detailed debugging**.  
