### AWK Command

`AWK` एक बहुत शक्तिशाली और लचीला टूल है जिसका उपयोग हम फ़ाइलों से डेटा को प्रोसेस करने, पैटर्न ढूंढने और उन पर ऑपरेशन्स करने के लिए करते हैं। इसका मुख्य उपयोग टेक्स्ट फाइलों को प्रोसेस करने में होता है। यहाँ पर हम `AWK` की संरचना और कुछ प्रमुख उदाहरणों के साथ समझेंगे। 

---

### **AWK का संरचना (Structure of AWK)**

`AWK` का basic structure होता है:

```bash
awk 'BEGIN { action } { action } END { action }' input_file
```

यहाँ:
1. **BEGIN Block**: यह section **input file पढ़ने से पहले** execute होता है। इसका उपयोग initialization (जैसे headers print करना, या कुछ variables set करना) के लिए होता है।
2. **Main Body**: यहाँ हम वो काम करते हैं जो हर input line पर करना है, जैसे पैटर्न ढूंढना या डेटा को modify करना।
3. **END Block**: यह section **input file के बाद** execute होता है, जिसका उपयोग आमतौर पर summary देने या अंतिम result print करने के लिए किया जाता है।

---

### **AWK कमांड्स के उदाहरण**

आइए कुछ `AWK` कमांड्स के उदाहरणों को विस्तार से समझते हैं:

---

#### **Example 1: `/etc/passwd` से पूरी लाइन प्रिंट करना**

```bash
awk '{print $0}' /etc/passwd
```

- **व्याख्या**: यह कमांड पूरी `/etc/passwd` फाइल को प्रिंट करता है। `$0` पूरी लाइन को दर्शाता है।
- **आउटपुट**:
  ```
  root:x:0:0:root:/root:/bin/bash
  daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
  ...
  ```

---

#### **Example 2: `/etc/passwd` से फील्ड्स का चयन करना**

```bash
awk -F: '{print $1}' /etc/passwd
```

- **व्याख्या**: इस कमांड में `-F:` का मतलब है कि हम फील्ड्स को कोलन `:` से अलग कर रहे हैं। `$1` पहला फील्ड (जो आमतौर पर यूज़रनेम होता है) प्रिंट करता है।
- **आउटपुट**:
  ```
  root
  daemon
  bin
  ...
  ```

---

#### **Example 3: `/etc/passwd` से यूज़रनेम और पूरा नाम प्रिंट करना**

```bash
awk -F: '{print $1, $5}' /etc/passwd
```

- **व्याख्या**: यहाँ `$1` (यूज़रनेम) और `$5` (पूरा नाम) को प्रिंट किया जा रहा है।
- **आउटपुट**:
  ```
  root Root User
  daemon Daemon User
  bin Bin User
  ...
  ```

---

#### **Example 4: `/etc/passwd` और `/etc/shadow` दोनों से डेटा प्रिंट करना**

```bash
awk -F: '{print $1, $3, $5}' /etc/passwd /etc/shadow
```

- **व्याख्या**: यहाँ `/etc/passwd` और `/etc/shadow` दोनों को प्रोसेस किया जा रहा है। `$1` यूज़रनेम, `$3` यूज़र ID, और `$5` पूरा नाम प्रिंट करेगा।
- **आउटपुट**:
  ```
  root 0 Root User
  daemon 1 Daemon User
  bin 2 Bin User
  ...
  ```

---

#### **Example 5: `/etc/passwd` में "root" के लिए यूज़रनेम प्रिंट करना**

```bash
awk -F: '/root/{print $1}' /etc/passwd
```

- **व्याख्या**: यह कमांड उन लाइनों को सर्च करता है जिसमें "root" शब्द है और केवल `$1` (यूज़रनेम) प्रिंट करता है।
- **आउटपुट**:
  ```
  root
  ```

---

### **AWK में IF Conditions और पैटर्न मैचिंग**

AWK में हम पैटर्न के आधार पर डेटा को फिल्टर कर सकते हैं। यह बहुत शक्तिशाली है क्योंकि हम अपनी कंडीशन के आधार पर डेटा प्रोसेस कर सकते हैं।

#### **Example 6: यदि यूज़र ID 0 है, तो यूज़र का नाम प्रिंट करें**

```bash
awk -F: '$3 == 0 {print $1}' /etc/passwd
```

- **व्याख्या**: यहाँ `$3` (यूज़र ID) को चेक किया जा रहा है कि वह 0 है या नहीं। अगर 0 है तो यूज़रनेम (`$1`) प्रिंट होगा।
- **आउटपुट**:
  ```
  root
  ```

---

#### **Example 7: `/etc/passwd` में "bash" शेल के लिए यूज़र प्रिंट करना**

```bash
awk -F: '$7 == "/bin/bash" {print $1}' /etc/passwd
```

- **व्याख्या**: यह कमांड `/etc/passwd` में उन यूज़र्स को ढूंढेगा जिनका शेल `/bin/bash` है।
- **आउटपुट**:
  ```
  root
  user1
  ```

---

### **AWK से ifconfig आउटपुट प्रोसेस करना**

`ifconfig` नेटवर्क इंटरफेस की जानकारी देता है। हम AWK का उपयोग करके इस डेटा को आसानी से प्रोसेस कर सकते हैं।

#### **Example 8: ifconfig का पूरा आउटपुट प्रिंट करना**

```bash
ifconfig | awk '{print $0}'
```

- **व्याख्या**: यह कमांड `ifconfig` का पूरा आउटपुट प्रिंट करेगा।
- **आउटपुट**:
  ```
  enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.1.5  netmask 255.255.255.0  broadcast 192.168.1.255
        ether 08:00:27:97:73:29  txqueuelen 1000  (Ethernet)
        ...
  ```

---

#### **Example 9: ifconfig से IP Address प्रिंट करना**

```bash
ifconfig | awk '/inet /{print $2}'
```

- **व्याख्या**: यहाँ हम `ifconfig` के आउटपुट में `inet` शब्द वाली लाइनों को सर्च कर रहे हैं और उनका दूसरा फील्ड (IP Address) प्रिंट कर रहे हैं।
- **आउटपुट**:
  ```
  192.168.1.5
  ```

---

#### **Example 10: ifconfig से MAC Address प्रिंट करना**

```bash
ifconfig | awk '/ether /{print $2}'
```

- **व्याख्या**: यह कमांड `ether` शब्द के साथ लाइनें ढूंढेगा (जो MAC Address होता है) और MAC Address प्रिंट करेगा।
- **आउटपुट**:
  ```
  08:00:27:97:73:29
  ```

---

### **BEGIN और END ब्लॉक का उपयोग**

AWK में `BEGIN` और `END` ब्लॉक का उपयोग प्रोग्राम के स्टार्ट और अंत में कुछ ऑपरेशन करने के लिए किया जाता है।

#### **Example 11: BEGIN ब्लॉक से हेडर प्रिंट करना**

```bash
awk 'BEGIN {print "Username, Full Name"} {print $1, $5}' /etc/passwd
```

- **व्याख्या**: `BEGIN` ब्लॉक से हम एक हेडर प्रिंट करेंगे और फिर `/etc/passwd` फाइल से यूज़रनेम और पूरा नाम प्रिंट करेंगे।
- **आउटपुट**:
  ```
  Username, Full Name
  root Root User
  daemon Daemon User
  bin Bin User
  ...
  ```

---

#### **Example 12: END ब्लॉक से Summary प्रिंट करना**

```bash
awk 'BEGIN {print "Processing Data"} {print $1} END {print "Data Processed"}' /etc/passwd
```

- **व्याख्या**: `BEGIN` से "Processing Data" और `END` से "Data Processed" print होगा। बीच में `/etc/passwd` की पहली फील्ड (यूज़रनेम) प्रिंट होगी।
- **आउटपुट**:
  ```
  Processing Data
  root
  daemon
  bin
  ...
  Data Processed
  ```

---

### **निष्कर्ष (Conclusion)**

- **AWK** एक बहुत शक्तिशाली टूल है जिसका उपयोग हम टेक्स्ट प्रोसेसिंग के लिए करते हैं। 
- **BEGIN** और **END** ब्लॉक का उपयोग प्रोसेसिंग से पहले और बाद में जानकारी देने के लिए किया जाता है।
- **स्ट्रिंग्स, पैटर्न्स, और कंडीशन्स** के आधार पर हम डेटा को सर्च, फिल्टर और मैनिपुलेट कर सकते हैं।
- AWK के अंदर Bash के फीचर्स (जैसे loops, conditionals) काम नहीं करते,
