
# **ğŸŒ What is a DHCP Server?**  

A **DHCP (Dynamic Host Configuration Protocol) Server** is a network server that **automatically assigns IP addresses** and other network settings (such as subnet mask, gateway, and DNS) to devices on a network. This eliminates the need for manual IP configuration on client devices.  

---

# **âš™ï¸ How DHCP Works?**  
When a device (client) connects to a network, it follows these steps to obtain an IP address from the **DHCP server**:  

1ï¸âƒ£ **DHCP Discovery** (`DHCPDISCOVER`) â€“ ğŸ“¢ The client sends a broadcast request to find a DHCP server.  
2ï¸âƒ£ **DHCP Offer** (`DHCPOFFER`) â€“ ğŸ“© The DHCP server responds with an available IP address and network settings.  
3ï¸âƒ£ **DHCP Request** (`DHCPREQUEST`) â€“ ğŸ“¡ The client requests the offered IP address.  
4ï¸âƒ£ **DHCP Acknowledgment** (`DHCPACK`) â€“ âœ… The DHCP server confirms the assignment, and the client starts using the IP address.  

---

# **ğŸ”‘ Key Features of DHCP Server**  
âœ… **Automatic IP Assignment** â€“ Reduces manual IP configuration.  
âœ… **Prevents IP Conflicts** â€“ Ensures each device gets a unique IP.  
âœ… **Centralized Network Management** â€“ Admins can control IP address distribution from a single server.  
âœ… **IP Lease Management** â€“ Assigns temporary IPs, reclaiming unused ones.  
âœ… **Supports Reserved (Static) IPs** â€“ Assigns permanent IPs to specific devices based on their MAC address.  

---

# **ğŸ“ Where is DHCP Used?**  
ğŸ  **Home Networks** â€“ Routers use DHCP to assign IPs to connected devices.  
ğŸ¢ **Enterprise Networks** â€“ Manages thousands of devices efficiently.  
ğŸŒ **ISP Networks** â€“ Assigns public IPs dynamically to customer devices.  

---

# **ğŸ›  DHCP Server Installation & Configuration Guide (CentOS)**  

## **1ï¸âƒ£ Check Available Repositories**  
ğŸ“‹ List all available repositories to ensure that the DHCP server package is available:  
```bash
yum repolist all
```

---

## **2ï¸âƒ£ Verify if DHCP Package is Installed**  
ğŸ” Check if the DHCP package is already installed:  
```bash
rpm -qa | grep dhcp
```

---

## **3ï¸âƒ£ Install DHCP Server**  
ğŸ“¥ Install the DHCP server package:  
```bash
yum install dhcp-server -y
```

---

## **4ï¸âƒ£ Verify Installation**  
ğŸ” Check if the DHCP package and DHCP server are installed:  
```bash
rpm -qa | grep dhcp
rpm -qa | grep dhcp-server
```

---

## **5ï¸âƒ£ Get Detailed Information About DHCP Server**  
ğŸ“– Display detailed information about the installed DHCP server package:  
```bash
rpm -qi dhcp-server
```

---

## **6ï¸âƒ£ List Documentation Files for DHCP Server**  
ğŸ“œ List the documentation files included with the DHCP server:  
```bash
rpm -qd dhcp-server
```

---

## **7ï¸âƒ£ List Configuration Files for DHCP Server**  
âš™ï¸ List the configuration files included with the DHCP server:  
```bash
rpm -qc dhcp-server
```

---

## **8ï¸âƒ£ List All Files Installed by DHCP Server**  
ğŸ“‚ List all files installed by the DHCP server package:  
```bash
rpm -ql dhcp-server
```

---

# **ğŸ“‘ DHCP Server Configuration**  

## **9ï¸âƒ£ Edit DHCP Configuration File**  
âœï¸ Open the DHCP configuration file for editing:  
```bash
vim /etc/dhcp/dhcpd.conf
```

ğŸ“ **Sample Configuration File:**  

```bash
# DHCP Server Configuration File
# See /usr/share/doc/dhcp-server/dhcpd.conf.example
# See dhcpd.conf(5) man page for details

authoritative;

# Specify network address and subnet mask
subnet 192.168.88.0 netmask 255.255.255.0 {
    
    # Specify the range of lease IP addresses
    range 192.168.88.100 192.168.88.200;
    
    # Specify default gateway
    option routers 192.168.88.1;
    
    # DNS servers for name resolution
    option domain-name-servers 8.8.8.8, 8.8.4.4;
    
    # Specify broadcast address
    option broadcast-address 192.168.88.255;
    
    # Default lease time (in seconds)
    default-lease-time 600;
    
    # Max lease time (in seconds)
    max-lease-time 7200;
}
```

ğŸ“‘ **Reference Example Configuration File:**  
```bash
vim /usr/share/doc/dhcp-server/dhcpd.conf.example
```

---

# **âš¡ Start and Manage DHCP Service**  

ğŸ” **Check Service Status**  
```bash
systemctl status dhcpd.service
```

â–¶ï¸ **Start DHCP Service**  
```bash
systemctl start dhcpd.service
```

ğŸ”„ **Restart DHCP Service**  
```bash
systemctl restart dhcpd.service
```

ğŸš€ **Enable Service to Start at Boot**  
```bash
systemctl enable dhcpd.service
```

---

# **ğŸ›‘ Check Open Ports**  

ğŸ“¡ **Check Open Ports and Listening Services**  
```bash
netstat -nltup
```

ğŸ” **Check if DHCP Ports Are Open**  
```bash
netstat -nltup | grep dhcp
```

---

# **ğŸ›¡ï¸ Update Firewall Rules (Firewalld)**  

ğŸšª **Open DHCP Port in Firewall**  
Allow DHCP traffic through the firewall:  
```bash
firewall-cmd --permanent --add-port=67/udp
```

ğŸ”„ **Reload Firewall to Apply Changes**  
```bash
firewall-cmd --reload
```

ğŸ” **Verify Firewall Rules**  
Check if the DHCP port is open:  
```bash
firewall-cmd --list-ports
```

Alternatively, check detailed firewall configuration:  
```bash
firewall-cmd --list-all
```

---

# **ğŸ“‘ Check DHCP Leases**  
ğŸ” Display current DHCP leases:  
```bash
cat /var/lib/dhcpd/dhcpd.leases
```

---

# **âœ… DHCP Client Configuration (Windows/Linux)**  

### **Windows Client**  
1ï¸âƒ£ Open **Command Prompt (CMD)** and run:  
```powershell
ipconfig /release
ipconfig /renew
ipconfig
```
âœ… If you receive an IP from the configured range (`192.168.88.100 - 192.168.88.200`), DHCP is working correctly.

### **Linux Client**  
1ï¸âƒ£ Set your interface to get an IP via DHCP:  
```bash
dhclient -r && dhclient
```
2ï¸âƒ£ Check assigned IP:  
```bash
ip a
```

---
